"use strict";!function(){var e,t=document.querySelector(".header__button"),n=document.querySelector(".header__nav");(e=t).addEventListener("click",(function(){e.classList.toggle("header__button--active"),n.classList.toggle("header__nav--inactive")}))}(),function(){var e=document.querySelector(".footer-top__btn"),t=document.querySelector(".form-popup"),n=document.querySelector(".form-popup__btn-exit"),o=document.querySelector("body"),d=function(){t.classList.add("hidden"),o.style=""};e.addEventListener("click",(function(){!function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);var n=e.offsetWidth-e.clientWidth;e.remove(),t.classList.remove("hidden"),o.style.overflow="hidden",o.style.paddingRight=n+"px"}()})),n.addEventListener("click",(function(){d()})),t.addEventListener("click",(function(e){e.target===this&&d()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&d()}))}(),window.backend={upload:function(e,t,n){var o=new XMLHttpRequest;o.responseType="json",o.addEventListener("load",(function(){200===o.status?t(o.response):n()})),o.addEventListener("error",(function(){n()})),o.open("POST","https://httpbin.org/post"),o.send(e)}},function(){var e=document.querySelector(".form-popup"),t=document.querySelector('.result-popup[data-popup="success"]'),n=document.querySelector('.result-popup[data-popup="error"]'),o=document.querySelector(".form-popup form"),d=document.querySelector(".form-popup .form-popup__btn"),i=document.querySelector(".form-popup textarea"),s=document.querySelectorAll(".form-popup input"),c=document.querySelector("body"),u=!1,r=function(){e.classList.add("hidden"),t.classList.remove("hidden"),setTimeout((function(){return t.classList.add("hidden")}),1e3),c.style=""},a=function(){e.classList.add("hidden"),n.classList.remove("hidden"),setTimeout((function(){return n.classList.add("hidden")}),1e3),c.style=""};o.addEventListener("submit",(function(e){e.preventDefault(),u||window.backend.upload(new FormData(o),r,a)}));var l=function(){i.value.length<3?(i.classList.add("invalid"),i.setCustomValidity("Не меньше трёх букв!"),u=!0):(i.classList.remove("invalid"),i.setCustomValidity(""),u=!1)},p=function(e){e.value.length<1?(e.classList.add("invalid"),e.setCustomValidity("Не должен быть пустой!"),u=!0):(e.classList.remove("invalid"),e.setCustomValidity(""),u=!1)};d.addEventListener("click",(function(){l(),s.forEach((function(e){p(e)}))})),i.addEventListener("input",(function(){l()})),s.forEach((function(e){e.addEventListener("input",(function(){p(this)}))}))}();